(this["webpackJsonppetful-client"]=this["webpackJsonppetful-client"]||[]).push([[0],{25:function(e,t,a){e.exports=a(38)},36:function(e,t,a){},37:function(e,t,a){},38:function(e,t,a){"use strict";a.r(t);var n=a(1),r=a.n(n),c=a(22),l=a.n(c),o=a(2);var s=function(){return r.a.createElement("header",null,r.a.createElement("h1",null,"Petful"),r.a.createElement("h2",{className:"subtitle"},"A FIFO Shelter for Cats and Dogs"))},u=a(10),i=a.n(u),m=a(13),p=a(4),d="https://petful-rachel.herokuapp.com",f={getAllPets:function(){return fetch("".concat(d,"/api/pets")).then((function(e){return e.json()})).catch((function(e){return console.log(e,e.message)}))},getCat:function(){return fetch("".concat(d,"/api/cats")).then((function(e){return e.json()})).catch((function(e){return console.log(e,e.message)}))},getDog:function(){return fetch("".concat(d,"/api/dogs")).then((function(e){return e.json()})).catch((function(e){return console.log(e,e.message)}))},adpotCat:function(){return fetch("".concat(d,"/api/cats"),{method:"DELETE",headers:{"content-type":"application/json"}}).catch((function(e){return console.log(e,e.message)}))},adpotDog:function(){return fetch("".concat(d,"/api/dogs"),{method:"DELETE",headers:{"Content-Type":"application/json"}}).catch((function(e){return console.log(e,e.message)}))}};var E=function(e){return r.a.createElement("div",{className:"desc_wrapper"},r.a.createElement("div",{className:"desc"},r.a.createElement("p",{className:"desc-spec"},e.name,"'s Story : "),r.a.createElement("p",{className:"desc-val"},e.story)),r.a.createElement("div",{className:"desc"},r.a.createElement("p",{className:"desc-spec"},"Breed : "),r.a.createElement("p",{className:"desc-val"},e.breed)),r.a.createElement("div",{className:"desc"},r.a.createElement("p",{className:"desc-spec"},"Gender : "),r.a.createElement("p",{className:"desc-val"},e.gender)))};function h(e){var t=Object(n.useState)(null),a=Object(p.a)(t,2),c=a[0],l=a[1];return r.a.createElement("div",{className:!0===e.selected?"selected pet-preview":"pet-preview"},r.a.createElement("h4",{className:"meet"},"Meet ",e.name),c||e.expanded?r.a.createElement("p",null,e.description):null,r.a.createElement("img",{src:e.imageURL}),e.expanded&&!e.selected?r.a.createElement("div",null,r.a.createElement(E,e),r.a.createElement("button",{className:"adopt_button",onClick:function(){return e.adopt(e.type)}},"Adopt")):null,c?r.a.createElement(n.Fragment,null,r.a.createElement(E,e),r.a.createElement("button",{onClick:function(){return l(!1)}},"Less")):e.expanded?null:r.a.createElement("button",{onClick:function(){return l(!0)}},"More"))}var g=h;h.defaultProps={imageURL:"https://images.pexels.com/photos/160846/french-bulldog-summer-smile-joy-160846.jpeg?auto=compress&cs=tinysrgb&dpr=1&w=500",description:"Black pug.",name:"Bilbo",gender:"Male",age:3,breed:"Pug",story:"Owner Passed away"};var b=a(8);var v=function(e){return r.a.createElement("section",{className:"landing_wrapper"},r.a.createElement("div",null,r.a.createElement("div",{className:"pet-header"},r.a.createElement("h3",null,"Our Current Pets")),r.a.createElement(g,Object.assign({},e.cat,{type:"cat"})),r.a.createElement(g,Object.assign({},e.dog,{type:"dog"}))),r.a.createElement("div",null,r.a.createElement("div",{className:"pet-header"},r.a.createElement("h3",null,"About Petful")),r.a.createElement("article",null,r.a.createElement("h4",null,"What is Petful"),r.a.createElement("p",null,"Petful is a shelter that only has room for one dog and one cat at a time. We keep a queue of potential families for our pets. When a family is next in the queue, they may adopt either of the pets."),r.a.createElement("h4",null,"How do I adopt with Petful"),r.a.createElement("p",null,"To adopt, click the button below and add your name to the queue. When it is your turn to adopt, you will be shown the pets available for adoption."),r.a.createElement("h4",null,"But what if I want to adopt a specific dog?"),r.a.createElement("p",null,"Unfortunately, Petful cannot accomodate any special requests in adoption."),r.a.createElement(b.a,{to:"/register"},r.a.createElement("button",null,"Get in line")))))},y=a(9),j=a(24),O={getAllPeople:function(){return fetch("".concat(d,"/api/people")).then((function(e){return e.json()})).catch((function(e){return console.log(e,e.message)}))},addPerson:function(e){return fetch("".concat(d,"/api/people"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({person:e})}).catch((function(e){return console.log(e,e.message)}))},removePerson:function(){return fetch("".concat(d,"/api/people"),{method:"DELETE"}).catch((function(e){return console.log(e,e.message)}))}};var N=function(e){var t=Object(n.useState)([]),a=Object(p.a)(t,2),c=a[0],l=a[1],o=Object(n.useState)({ready:!1,adopted:!1}),s=Object(p.a)(o,2),u=s[0],d=s[1],E=Object(n.useState)({ready:!1,adopted:!1}),h=Object(p.a)(E,2),v=h[0],j=h[1],O=c.map((function(e,t){return r.a.createElement("p",{key:t},e.pet," was adopted by ",e.person)})),N=e.people.map((function(e,t){return r.a.createElement("p",{key:t},e)}));Object(n.useEffect)((function(){var e=setTimeout((function(){w()}),5e3);return function(){return clearTimeout(e)}}),[c]),v.adopted&&u.adopted&&(v.ready&&j({adopted:!0,ready:!1}),u.ready&&d({adopted:!0,ready:!1}));var w=function(){var t=Object(m.a)(i.a.mark((function t(){var a,n,r,o,s,m,p,E,h,g;return i.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(a={},!v.ready&&!u.ready){t.next=6;break}return n=e.people,r=n.shift(),e.setPeople([].concat(Object(y.a)(e.people),[r])),t.abrupt("return",null);case 6:if(0!=e.counter||v.ready||u.ready){t.next=13;break}return j({ready:!0,adopted:!1}),d({ready:!0,adopted:!1}),o=e.people,s=o.shift(),e.setPeople([].concat(Object(y.a)(o),[s])),t.abrupt("return",null);case 13:if(e.setCounter(e.counter-1),m=e.people,p=m.shift(),e.setPeople([].concat(Object(y.a)(m),[p])),"dog"!==(E=1===Math.floor(2*Math.random())?"cat":"dog")){t.next=28;break}return t.next=21,f.adpotDog();case 21:return t.next=23,f.getDog();case 23:h=t.sent,e.setDog(h),a={person:p,pet:e.dog.name},t.next=36;break;case 28:if("cat"!==E){t.next=36;break}return t.next=31,f.adpotCat();case 31:return t.next=33,f.getCat();case 33:g=t.sent,e.setCat(g),a={person:p,pet:e.cat.name};case 36:l([].concat(Object(y.a)(c),[a]));case 37:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),x=function(){var t=Object(m.a)(i.a.mark((function t(a){var n,r,o;return i.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(n={},"cat"!==a){t.next=13;break}return d({ready:!1,adopted:!0,name:e.cat.name}),n={person:e.user,pet:e.cat.name},l([].concat(Object(y.a)(c),[n])),t.next=7,f.adpotCat();case 7:return t.next=9,f.getCat();case 9:r=t.sent,e.setCat(r),t.next=22;break;case 13:return j({ready:!1,adopted:!0,name:e.dog.name}),n={person:e.user,pet:e.dog.name},l([].concat(Object(y.a)(c),[n])),t.next=18,f.adpotDog();case 18:return t.next=20,f.getDog();case 20:o=t.sent,e.setDog(o);case 22:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}();return r.a.createElement(n.Fragment,null,r.a.createElement(n.Fragment,null,u.ready||v.ready?null:r.a.createElement(n.Fragment,null," ",r.a.createElement("h3",{className:"ready_title"},"You're in line adopt!"),r.a.createElement("p",null,"The average wait time is 20 seconds.")),e.dog?r.a.createElement(g,Object.assign({},e.dog,{type:"dog",adopt:function(e){return x(e)},expanded:!(!v.ready||v.adopted)})):null,v.adopted?r.a.createElement("div",{className:"review"}," ",r.a.createElement("h4",null,"Congratulations, you adopted ",v.name)," "):null,e.cat?r.a.createElement(g,Object.assign({},e.cat,{type:"cat",adopt:function(e){return x(e)},expanded:!(!u.ready||u.adopted)})):null,u.adopted?r.a.createElement("div",{className:"review"}," ",r.a.createElement("h4",null,"Congratulations, you adopted ",u.name)," "):null,r.a.createElement("div",{className:"list_wrapper"},r.a.createElement("div",{className:"list"},u.ready||v.ready?r.a.createElement("h4",null,"People in line"):r.a.createElement("h4",{className:"banner_p"},e.counter," people are ahead of you in line"),N),r.a.createElement("div",null,r.a.createElement("div",{className:"list"},r.a.createElement("h4",null,"Recent adoptions"),O)))),r.a.createElement(b.a,{to:"/"},r.a.createElement("button",null,"Done")))};var w=function(e){var t=Object(n.useState)(""),a=Object(p.a)(t,2),c=a[0],l=a[1],o=Object(n.useState)(null),s=Object(p.a)(o,2),u=s[0],i=s[1],m=Object(n.useState)(0),d=Object(p.a)(m,2),f=d[0],E=d[1],h=Object(n.useState)([]),g=Object(p.a)(h,2),v=g[0],w=g[1];return Object(n.useEffect)((function(){0===f&&O.getAllPeople().then((function(e){E(e.length),w(e)}))}),[]),r.a.createElement("section",{className:"adopt_wrapper"},u?r.a.createElement(N,Object.assign({},e,{people:v,setPeople:function(e){return w(e)},user:u,counter:f,setCounter:function(e){return E(e)}})):r.a.createElement(n.Fragment,null,r.a.createElement("div",{className:"pet-header"},r.a.createElement(b.a,{to:"/"},r.a.createElement(j.a,{className:"back"})),r.a.createElement("h3",null,"Get in Line to Adopt")),r.a.createElement("form",{onSubmit:function(e){return function(e){e.preventDefault(),i(c),w([].concat(Object(y.a)(v),[c]))}(e)}},r.a.createElement("div",{className:"form-row"},r.a.createElement("label",{htmlFor:"name"},"Your name"),r.a.createElement("input",{type:"text",name:"name",className:"input-name",value:c,onChange:function(e){return l(e.target.value)}})),r.a.createElement("label",null,"I'm interested in adopting a :"),r.a.createElement("div",{className:"form-row"},r.a.createElement("label",{htmlFor:"dog"},"Dog"),r.a.createElement("input",{type:"radio",name:"dog"})),r.a.createElement("div",{className:"form-row"},r.a.createElement("label",{htmlFor:"cat"},"Cat"),r.a.createElement("input",{type:"radio",name:"cat"})),r.a.createElement("button",{type:"submit"},"Get in Line")),r.a.createElement("p",{className:"more-info"},"For more information about adopting with Petful, please go ",r.a.createElement(b.a,{className:"link",to:"/"},"Here"))))};var x=function(){var e=Object(n.useState)({}),t=Object(p.a)(e,2),a=t[0],c=t[1],l=Object(n.useState)({}),s=Object(p.a)(l,2),u=s[0],d=s[1];return Object(n.useEffect)((function(){function e(){return(e=Object(m.a)(i.a.mark((function e(){var t,a;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,f.getCat();case 3:return t=e.sent,c(t),e.next=7,f.getDog();case 7:a=e.sent,d(a),e.next=14;break;case 11:return e.prev=11,e.t0=e.catch(0),e.abrupt("return",(function(e){return console.log(e,e.message)}));case 14:case"end":return e.stop()}}),e,null,[[0,11]])})))).apply(this,arguments)}!function(){e.apply(this,arguments)}()}),[]),r.a.createElement(n.Fragment,null,r.a.createElement(o.c,null,r.a.createElement(o.a,{exact:!0,path:"/",render:function(){return r.a.createElement(v,{cat:a,dog:u})}}),r.a.createElement(o.a,{path:"/register",render:function(){return r.a.createElement(w,{setDog:function(e){return d(e)},setCat:function(e){return c(e)},cat:a,dog:u})}})))},k=a(19);var C=function(){return r.a.createElement("footer",null,r.a.createElement("p",null,"Rachel Reilly | 2020"),r.a.createElement("a",{href:"https://github.com/Rachanastasia"},r.a.createElement(k.a,{className:"icon"})),r.a.createElement("a",{href:"https://www.linkedin.com/in/rachel-a-reilly/"},r.a.createElement(k.b,{className:"icon"})))};a(36),a(37);var P=function(){return r.a.createElement("main",null,r.a.createElement(s,null),r.a.createElement(x,null),r.a.createElement(C,null))},D=r.a.createContext({user:"",setUser:function(){}});function S(e){var t=Object(n.useState)(""),a=Object(p.a)(t,2),c={user:a[0],setUser:a[1]};return r.a.createElement(D.Provider,{value:c},e.children)}var F=a(5),T=Object(F.a)();l.a.render(r.a.createElement(o.b,{history:T},r.a.createElement(S,null,r.a.createElement(P,null))),document.getElementById("root"))}},[[25,1,2]]]);
//# sourceMappingURL=main.71d7b371.chunk.js.map